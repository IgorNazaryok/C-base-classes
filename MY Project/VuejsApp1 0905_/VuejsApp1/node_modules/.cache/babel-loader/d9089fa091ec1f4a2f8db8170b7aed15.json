{"remainingRequest":"C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\src\\components\\Authorization.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\src\\components\\Authorization.vue","mtime":1588878353459},{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1\\VuejsApp1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      login: \"\",\n      password: \"\",\n      newLogin: \"\",\n      newPassword: \"\"\n    };\n  },\n  methods: {\n    Authorization: function Authorization() {\n      var _this = this;\n\n      fetch(\"https://localhost:44319/users\" + \"/\" + this.login + \"/\" + this.password).then(function (response) {\n        return response.text();\n      }).then(function (commits) {\n        if (commits == '0') {\n          alert(\"Такой пользователь не найден! Повторите ввод или пройдите регистрацию\");\n          _this.login = _this.password = \"\";\n        } else {\n          alert(\"Добро пожаловать \" + _this.login + \"!\");\n          _this.$parent.$data.UserSession = Number(commits);\n          _this.$parent.$data.activeLoginUser = _this.login;\n          _this.login = _this.password = \"\";\n        }\n      });\n    },\n    Registration: function Registration() {\n      var _this2 = this;\n\n      if (this.newLogin.length >= 3 && this.newPassword.length >= 6) {\n        fetch(this.urlU, {\n          method: 'POST',\n          headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            UserName: this.newLogin,\n            password: this.newPassword\n          })\n        }).then(function (response) {\n          return response.text();\n        }).then(function (data) {\n          if (data != '0') {\n            alert(\"Спасибо за регистрацию \" + _this2.newLogin + \"! Теперь Вы можете ввойти на наш сайт.\");\n            _this2.newLogin = _this2.newPassword = \"\";\n          } else {\n            alert(\"Уже существует пользователь с таким логином, выберите другой\");\n            _this2.newLogin = _this2.newPassword = \"\";\n          }\n        });\n      } else {\n        alert(\"Длина логина или пароля не соответствует требованиям безопасности\");\n        this.newLogin = this.newPassword = \"\";\n      }\n    }\n  }\n};",{"version":3,"sources":["Authorization.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,eAAA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,aAAA,EADA;AAEA,gBAAA,EAFA;AAGA,gBAAA,EAHA;AAIA,mBAAA;AAJA,KAAA;AAOA,GAVA;AAWA,WAAA;AACA,iBADA,2BACA;AAAA;;AAEA,YAAA,kCAAA,GAAA,GAAA,KAAA,KAAA,GAAA,GAAA,GAAA,KAAA,QAAA,EACA,IADA,CACA;AAAA,eAAA,SAAA,IAAA,EAAA;AAAA,OADA,EACA,IADA,CACA,mBACA;AACA,YAAA,WAAA,GAAA,EAAA;AACA,gBAAA,uEAAA;AACA,gBAAA,KAAA,GAAA,MAAA,QAAA,GAAA,EAAA;AACA,SAHA,MAKA;AACA,gBAAA,sBAAA,MAAA,KAAA,GAAA,GAAA;AACA,gBAAA,OAAA,CAAA,KAAA,CAAA,WAAA,GAAA,OAAA,OAAA,CAAA;AACA,gBAAA,OAAA,CAAA,KAAA,CAAA,eAAA,GAAA,MAAA,KAAA;AACA,gBAAA,KAAA,GAAA,MAAA,QAAA,GAAA,EAAA;AACA;AACA,OAdA;AAiBA,KApBA;AAsBA,gBAtBA,0BAsBA;AAAA;;AAEA,UAAA,KAAA,QAAA,CAAA,MAAA,IAAA,CAAA,IAAA,KAAA,WAAA,CAAA,MAAA,IAAA,CAAA,EACA;AACA,cAAA,KAAA,IAAA,EACA;AACA,kBAAA,MADA;AAEA,mBAAA;AAAA,sBAAA,kBAAA;AAAA,4BAAA;AAAA,WAFA;AAGA,gBAAA,KAAA,SAAA,CAAA;AAAA,sBAAA,KAAA,QAAA;AAAA,sBAAA,KAAA;AAAA,WAAA;AAHA,SADA,EAMA,IANA,CAMA;AAAA,iBAAA,SAAA,IAAA,EAAA;AAAA,SANA,EAOA,IAPA,CAOA,gBAAA;AACA,cAAA,QAAA,GAAA,EACA;AACA,kBAAA,4BAAA,OAAA,QAAA,GAAA,wCAAA;AACA,mBAAA,QAAA,GAAA,OAAA,WAAA,GAAA,EAAA;AACA,WAJA,MAMA;AACA,kBAAA,8DAAA;AACA,mBAAA,QAAA,GAAA,OAAA,WAAA,GAAA,EAAA;AACA;AACA,SAlBA;AAmBA,OArBA,MAuBA;AACA,cAAA,mEAAA;AACA,aAAA,QAAA,GAAA,KAAA,WAAA,GAAA,EAAA;AACA;AACA;AAnDA;AAXA,CAAA","sourcesContent":["<template>\r\n    <section>        \r\n        <div id=\"block\">\r\n            <h3>Вход на сайт</h3>\r\n            <label>Введите логин *</label><br />\r\n            <input class=\"text\" type=\"text\" placeholder=\"Логин\" v-model=\"login\" /> <br /><br />\r\n            <label>Введите пароль *</label><br />\r\n            <input class=\"text\" type=\"password\" placeholder=\"Пароль\" v-model=\"password\" /><br /><br />\r\n            <button @click=\"Authorization()\">Ввойти</button>\r\n            <button @click=\"()=> {this.$parent.$data.UserSession = 0}\">Выйти</button>\r\n        </div>\r\n\r\n        <div id=\"block\">\r\n            <h3>Регистрация на сайте</h3>\r\n                <label>Введите логин *</label><br />\r\n                <input class=\"text\" type=\"text\" placeholder=\"Не мененее 3 символов\" v-model=\"newLogin\" /> <br /><br />\r\n\r\n            <label>Введите пароль *</label><br />\r\n            <input class=\"text\" type=\"password\" placeholder=\"Не мененее 6 символов\" v-model=\"newPassword\" /><br /><br />\r\n            <button @click=\"Registration()\">Регистрация</button>\r\n            \r\n        </div>\r\n        \r\n    </section>\r\n</template>\r\n\r\n<script>    \r\n    export default {\r\n        \r\n        data() {\r\n            return {\r\n                login: \"\",\r\n                password: \"\",\r\n                newLogin: \"\",\r\n                newPassword: \"\",\r\n                \r\n            }\r\n        },\r\n        methods: {\r\n            Authorization() {             \r\n                             \r\n                fetch(\"https://localhost:44319/users\" + \"/\" + this.login + \"/\" + this.password).\r\n                    then(response => response.text()).then(commits =>\r\n                    {                        \r\n                        if (commits == '0') {\r\n                            alert(\"Такой пользователь не найден! Повторите ввод или пройдите регистрацию\");\r\n                            this.login = this.password=\"\";\r\n                        }\r\n                        else\r\n                        {                            \r\n                            alert(\"Добро пожаловать \" + this.login + \"!\");\r\n                            this.$parent.$data.UserSession = Number(commits);\r\n                            this.$parent.$data.activeLoginUser = this.login;\r\n                            this.login = this.password = \"\";\r\n                        }\r\n                    })                 \r\n               \r\n                \r\n            },\r\n\r\n            Registration() {\r\n                \r\n                if ((this.newLogin.length >= 3) && (this.newPassword.length >= 6))\r\n                {\r\n                    fetch(this.urlU,\r\n                        {\r\n                            method: 'POST',\r\n                            headers: { \"Accept\": \"application/json\", \"Content-Type\": \"application/json\" },\r\n                            body: JSON.stringify({ UserName: this.newLogin, password: this.newPassword })\r\n                        })\r\n                        .then(response => response.text())\r\n                        .then(data => {\r\n                            if (data != '0')\r\n                            {\r\n                                alert(\"Спасибо за регистрацию \" + this.newLogin + \"! Теперь Вы можете ввойти на наш сайт.\");\r\n                                this.newLogin = this.newPassword = \"\";\r\n                            }\r\n                            else\r\n                            {\r\n                                alert(\"Уже существует пользователь с таким логином, выберите другой\");\r\n                                this.newLogin = this.newPassword = \"\";\r\n                            }\r\n                        })\r\n                }\r\n                else\r\n                {\r\n                    alert(\"Длина логина или пароля не соответствует требованиям безопасности\");\r\n                    this.newLogin = this.newPassword = \"\";\r\n                }   \r\n            },\r\n        }\r\n    } \r\n</script>\r\n\r\n<style scoped>\r\n    #block {\r\n        float: left;\r\n        display: block;\r\n        width: 300px;\r\n        border: 1px solid gray;\r\n        border-radius: 10px;\r\n        margin: 20px;\r\n        padding: 10px;\r\n        background-color: silver;\r\n    }\r\n    input.text {\r\n        width: 200px;\r\n        height: 15px;\r\n        padding: 5px 10px 5px 10px;\r\n        border-radius: 5px;\r\n    }\r\n\r\n</style>"],"sourceRoot":"src/components"}]}