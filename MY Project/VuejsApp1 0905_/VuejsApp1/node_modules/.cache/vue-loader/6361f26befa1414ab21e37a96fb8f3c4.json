{"remainingRequest":"C:\\Users\\Garik\\source\\repos\\VuejsApp1 0905_\\VuejsApp1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Garik\\source\\repos\\VuejsApp1 0905_\\VuejsApp1\\src\\components\\Authorization.vue?vue&type=style&index=0&id=5c1ce7d3&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1 0905_\\VuejsApp1\\src\\components\\Authorization.vue","mtime":1588878353459},{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1 0905_\\VuejsApp1\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1 0905_\\VuejsApp1\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1 0905_\\VuejsApp1\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1 0905_\\VuejsApp1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Garik\\source\\repos\\VuejsApp1 0905_\\VuejsApp1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#block {\n    float: left;\n    display: block;\n    width: 300px;\n    border: 1px solid gray;\n    border-radius: 10px;\n    margin: 20px;\n    padding: 10px;\n    background-color: silver;\n}\ninput.text {\n    width: 200px;\n    height: 15px;\n    padding: 5px 10px 5px 10px;\n    border-radius: 5px;\n}\n\n",{"version":3,"sources":["Authorization.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Authorization.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <section>        \r\n        <div id=\"block\">\r\n            <h3>Вход на сайт</h3>\r\n            <label>Введите логин *</label><br />\r\n            <input class=\"text\" type=\"text\" placeholder=\"Логин\" v-model=\"login\" /> <br /><br />\r\n            <label>Введите пароль *</label><br />\r\n            <input class=\"text\" type=\"password\" placeholder=\"Пароль\" v-model=\"password\" /><br /><br />\r\n            <button @click=\"Authorization()\">Ввойти</button>\r\n            <button @click=\"()=> {this.$parent.$data.UserSession = 0}\">Выйти</button>\r\n        </div>\r\n\r\n        <div id=\"block\">\r\n            <h3>Регистрация на сайте</h3>\r\n                <label>Введите логин *</label><br />\r\n                <input class=\"text\" type=\"text\" placeholder=\"Не мененее 3 символов\" v-model=\"newLogin\" /> <br /><br />\r\n\r\n            <label>Введите пароль *</label><br />\r\n            <input class=\"text\" type=\"password\" placeholder=\"Не мененее 6 символов\" v-model=\"newPassword\" /><br /><br />\r\n            <button @click=\"Registration()\">Регистрация</button>\r\n            \r\n        </div>\r\n        \r\n    </section>\r\n</template>\r\n\r\n<script>    \r\n    export default {\r\n        \r\n        data() {\r\n            return {\r\n                login: \"\",\r\n                password: \"\",\r\n                newLogin: \"\",\r\n                newPassword: \"\",\r\n                \r\n            }\r\n        },\r\n        methods: {\r\n            Authorization() {             \r\n                             \r\n                fetch(\"https://localhost:44319/users\" + \"/\" + this.login + \"/\" + this.password).\r\n                    then(response => response.text()).then(commits =>\r\n                    {                        \r\n                        if (commits == '0') {\r\n                            alert(\"Такой пользователь не найден! Повторите ввод или пройдите регистрацию\");\r\n                            this.login = this.password=\"\";\r\n                        }\r\n                        else\r\n                        {                            \r\n                            alert(\"Добро пожаловать \" + this.login + \"!\");\r\n                            this.$parent.$data.UserSession = Number(commits);\r\n                            this.$parent.$data.activeLoginUser = this.login;\r\n                            this.login = this.password = \"\";\r\n                        }\r\n                    })                 \r\n               \r\n                \r\n            },\r\n\r\n            Registration() {\r\n                \r\n                if ((this.newLogin.length >= 3) && (this.newPassword.length >= 6))\r\n                {\r\n                    fetch(this.urlU,\r\n                        {\r\n                            method: 'POST',\r\n                            headers: { \"Accept\": \"application/json\", \"Content-Type\": \"application/json\" },\r\n                            body: JSON.stringify({ UserName: this.newLogin, password: this.newPassword })\r\n                        })\r\n                        .then(response => response.text())\r\n                        .then(data => {\r\n                            if (data != '0')\r\n                            {\r\n                                alert(\"Спасибо за регистрацию \" + this.newLogin + \"! Теперь Вы можете ввойти на наш сайт.\");\r\n                                this.newLogin = this.newPassword = \"\";\r\n                            }\r\n                            else\r\n                            {\r\n                                alert(\"Уже существует пользователь с таким логином, выберите другой\");\r\n                                this.newLogin = this.newPassword = \"\";\r\n                            }\r\n                        })\r\n                }\r\n                else\r\n                {\r\n                    alert(\"Длина логина или пароля не соответствует требованиям безопасности\");\r\n                    this.newLogin = this.newPassword = \"\";\r\n                }   \r\n            },\r\n        }\r\n    } \r\n</script>\r\n\r\n<style scoped>\r\n    #block {\r\n        float: left;\r\n        display: block;\r\n        width: 300px;\r\n        border: 1px solid gray;\r\n        border-radius: 10px;\r\n        margin: 20px;\r\n        padding: 10px;\r\n        background-color: silver;\r\n    }\r\n    input.text {\r\n        width: 200px;\r\n        height: 15px;\r\n        padding: 5px 10px 5px 10px;\r\n        border-radius: 5px;\r\n    }\r\n\r\n</style>"]}]}